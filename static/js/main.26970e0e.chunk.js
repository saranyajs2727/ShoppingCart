(this["webpackJsonpreact-task"]=this["webpackJsonpreact-task"]||[]).push([[0],{1573:function(e,t,c){"use strict";c.r(t);var a=c(1),r=c.n(a),n=c(22),s=c.n(n),i=(c(75),c(69)),j=c(26),l=c(1583),d=c(1578),o=c(66),b=c(1585),O=c(1582),u=c(1579),h=c(68),p=c(32),x=c(8),y=c(34),m=c(20),f=c(21),g=c.n(f),v=c(10),R=function(e,t){console.log(e),console.log(t);var c=[].concat(Object(m.a)(e.cart),[Object(v.a)({},t.payload)]);switch(localStorage.setItem("Name",JSON.stringify(c)),t.type){case"ADD_TO_CART":return Object(v.a)(Object(v.a)({},e),{},{cart:[].concat(Object(m.a)(e.cart),[Object(v.a)(Object(v.a)({},t.payload),{},{qty:1})])});case"REMOVE_FROM_CART":return Object(v.a)(Object(v.a)({},e),{},{cart:e.cart.filter((function(e){return e.id!==t.payload.id}))});case"CHANGE_CART_QTY":return Object(v.a)(Object(v.a)({},e),{},{cart:e.cart.filter((function(e){return e.id===t.payload.id?e.qty=t.payload.qty:e.qty}))});default:return e}},C=function(e,t){switch(t.type){case"SORT_BY_PRICE":return Object(v.a)(Object(v.a)({},e),{},{sort:t.payload});case"FILTER_BY_STOCK":return Object(v.a)(Object(v.a)({},e),{},{byStock:!e.byStock});case"FILTER_BY_DELIVERY":return Object(v.a)(Object(v.a)({},e),{},{byFastDelivery:!e.byFastDelivery});case"FILTER_BY_RATING":return Object(v.a)(Object(v.a)({},e),{},{byRating:t.payload});case"FILTER_BY_SEARCH":return Object(v.a)(Object(v.a)({},e),{},{searchQuery:t.payload});case"CLEAR_FILTERS":return{byStock:!1,byFastDelivery:!1,byRating:0};default:return e}},S=c(4),_=Object(a.createContext)();g.a.seed(99);var E=function(){return Object(a.useContext)(_)},T=function(e){var t=e.children,c=Object(m.a)(Array(20)).map((function(){return{id:g.a.datatype.uuid(),name:g.a.commerce.productName(),price:g.a.commerce.price(),image:g.a.random.image(),inStock:g.a.random.arrayElement([0,3,5,6,7]),fastDelivery:g.a.datatype.boolean(),ratings:g.a.random.arrayElement([1,2,3,4,5])}})),r=Object(a.useReducer)(R,{products:c,cart:[]}),n=Object(y.a)(r,2),s=n[0],i=n[1],j=Object(a.useReducer)(C,{byStock:!1,byFastDelivery:!1,byRating:0,searchQuery:""}),l=Object(y.a)(j,2),d=l[0],o=l[1];return console.log(d),Object(S.jsx)(_.Provider,{value:{state:s,dispatch:i,productState:d,productDispatch:o},children:t})},k=(c(61),function(){var e=E(),t=e.state.cart,c=e.dispatch,a=e.productDispatch;return Object(S.jsx)(l.a,{bg:"dark",variant:"dark",style:{height:80},children:Object(S.jsxs)(d.a,{children:[Object(S.jsx)(l.a.Brand,{children:Object(S.jsx)(p.b,{to:"/",children:"Shopping Cart"})}),"cart"!==Object(x.e)().pathname.split("/")[1]&&Object(S.jsx)(l.a.Text,{className:"search",children:Object(S.jsx)(o.a,{style:{width:500},type:"search",placeholder:"Search a product...",className:"m-auto","aria-label":"Search",onChange:function(e){a({type:"FILTER_BY_SEARCH",payload:e.target.value})}})}),Object(S.jsx)(b.a,{children:Object(S.jsxs)(O.a,{alignRight:!0,children:[Object(S.jsxs)(O.a.Toggle,{variant:"success",children:[Object(S.jsx)(i.a,{color:"white",fontSize:"25px"}),Object(S.jsx)(u.a,{children:t.length})]}),Object(S.jsx)(O.a.Menu,{style:{minWidth:370},children:t.length>0?Object(S.jsxs)("div",{children:[t.map((function(e){return Object(S.jsxs)("span",{className:"cartitem",children:[Object(S.jsx)("img",{src:e.image,className:"cartItemImg",alt:e.name}),Object(S.jsxs)("div",{className:"cartItemDetail",children:[Object(S.jsx)("span",{children:e.name}),Object(S.jsxs)("span",{children:["\u20b9 ",e.price.split(".")[0]]})]}),Object(S.jsx)(j.a,{fontSize:"20px",style:{cursor:"pointer"},onClick:function(){return c({type:"REMOVE_FROM_CART",payload:e})}})]},e.id)})),Object(S.jsx)(p.b,{to:"/cart",children:Object(S.jsx)(h.a,{style:{width:"95%",margin:"0 10px"},children:"Go To Cart"})})]}):Object(S.jsx)("span",{style:{padding:10},children:"Cart is Empty!"})})]})})]})})}),A=c(1586),N=function(e){var t=e.rating,c=e.onClick,a=e.style;return Object(S.jsx)("div",{children:Object(m.a)(Array(5)).map((function(e,r){return Object(S.jsx)("span",{onClick:function(){return c(r)},style:a,children:t>r?Object(S.jsx)(j.b,{fontSize:"15px"}):Object(S.jsx)(j.c,{fontSize:"15px"})},r)}))})},D=function(e){var t=e.prod,c=E(),a=c.state.cart,r=c.dispatch;return Object(S.jsx)("div",{className:"products",children:Object(S.jsxs)(A.a,{children:[Object(S.jsx)(A.a.Img,{variant:"top",src:t.image,alt:t.name}),Object(S.jsxs)(A.a.Body,{children:[Object(S.jsx)(A.a.Title,{children:t.name}),Object(S.jsxs)(A.a.Subtitle,{style:{paddingBottom:10},children:[Object(S.jsxs)("span",{children:["\u20b9 ",t.price.split(".")[0]]}),t.fastDelivery?Object(S.jsx)("div",{children:"Fast Delivery"}):Object(S.jsx)("div",{children:"4 days delivery"}),Object(S.jsx)(N,{rating:t.ratings})]}),a.some((function(e){return e.id===t.id}))?Object(S.jsx)(h.a,{variant:"danger",onClick:function(){return r({type:"REMOVE_FROM_CART",payload:t})},children:"Remove from Cart"}):Object(S.jsx)(h.a,{onClick:function(){return r({type:"ADD_TO_CART",payload:t})},disabled:!t.inStock,children:t.inStock?"Add to Cart":"Out of Stock"})]})]})})},F=function(){var e=E(),t=e.state.products,c=e.productState,a=c.sort;c.byStock,c.byFastDelivery,c.byRating,c.searchQuery;return console.log(t),Object(S.jsxs)("div",{className:"home",children:[Object(S.jsx)("div",{className:"filters"}),Object(S.jsx)("div",{className:"productContainer",children:function(){var e=t;return a&&(e=e.sort((function(e,t){return"lowToHigh"===a?e.price-t.price:t.price-e.price}))),e}().map((function(e){return Object(S.jsx)(D,{prod:e},e.id)}))})]})},I=c(1587),B=c(1580),M=c(70),Y=c(1581),w=c(1584),L=function(){var e=E(),t=e.state.cart,c=e.dispatch,r=Object(a.useState)(),n=Object(y.a)(r,2),s=n[0],i=n[1];return Object(a.useEffect)((function(){i(t.reduce((function(e,t){return e+Number(t.price)*t.qty}),0))}),[t]),Object(S.jsxs)("div",{className:"home",children:[Object(S.jsx)("div",{className:"productContainer",children:Object(S.jsx)(I.a,{children:t.map((function(e){return Object(S.jsx)(I.a.Item,{children:Object(S.jsxs)(B.a,{children:[Object(S.jsx)(M.a,{md:2,children:Object(S.jsx)(Y.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(S.jsx)(M.a,{md:2,children:Object(S.jsx)("span",{children:e.name})}),Object(S.jsxs)(M.a,{md:2,children:["\u20b9 ",e.price]}),Object(S.jsx)(M.a,{md:2}),Object(S.jsx)(M.a,{md:2,children:Object(S.jsx)(w.a.Control,{as:"select",value:e.qty,onChange:function(t){return c({type:"CHANGE_CART_QTY",payload:{id:e.id,qty:t.target.value}})},children:Object(m.a)(Array(e.inStock).keys()).map((function(e){return Object(S.jsx)("option",{children:e+1},e+1)}))})}),Object(S.jsx)(M.a,{md:2,children:Object(S.jsx)(h.a,{type:"button",variant:"light",onClick:function(){return c({type:"REMOVE_FROM_CART",payload:e})},children:Object(S.jsx)(j.a,{fontSize:"20px"})})})]})},e.id)}))})}),Object(S.jsxs)("div",{className:"filters summary",children:[Object(S.jsxs)("span",{className:"title",children:["Subtotal (",t.length,") items"]}),Object(S.jsxs)("span",{style:{fontWeight:700,fontSize:20},children:["Total: \u20b9 ",s]}),Object(S.jsx)(h.a,{type:"button",disabled:0===t.length,children:"Proceed to Checkout"})]})]})};var q=function(){return Object(S.jsxs)(p.a,{children:[Object(S.jsx)(k,{}),Object(S.jsxs)("div",{children:[Object(S.jsx)(x.a,{path:"/",exact:!0,children:Object(S.jsx)(F,{})}),Object(S.jsx)(x.a,{path:"/ShoppingApp",exact:!0,children:Object(S.jsx)(F,{})}),Object(S.jsx)(x.a,{path:"/cart",exact:!0,children:Object(S.jsx)(L,{})})]})]})};c(1572);s.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(T,{children:Object(S.jsx)(q,{})})}),document.getElementById("root"))},61:function(e,t,c){},75:function(e,t,c){}},[[1573,1,2]]]);
//# sourceMappingURL=main.26970e0e.chunk.js.map